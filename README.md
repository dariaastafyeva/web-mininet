# OT76 - Всё в одном

## Сервисы
1. Получение маршрутов

    Имя | Значение
    --- | --------
    URL | /rest/routes
    Метод | GET
    Формат ответа | json массив
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **RID** | идентификатор маршрута | **int** | `1`
    **VT** | вид маршрута | **int** | `1 - автобус 2 - троллейбус 3 - трамвай 4 - маршрутка`
    **NMAR** | название маршрута на латинице | **str** | `35m`
    **NMAR_RU** | название маршрута на русском | **str** | `35м`
    **NAME_NMAR** | начальная и конечная остановки | **str** | `ЯШЗ - пос. Ивняки`
2. Получение остановок

    Имя | Значение
    --- | --------
    URL | /rest/stops
    Метод | GET
    Формат ответа | json массив
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **ID** | идентификатор остановки | **int** | `1`
    **NAME** | название остановки | **str** | `Улица Малая Пролетарская`
    **LAT** | широта | **float** | `57.6125370`
    **LON** | долгота | **float** | `39.8845370`
3. Получение остановок маршрута

    Имя | Значение
    --- | --------
    URL | /rest/route_stops
    Метод | GET
    Формат ответа | json массив
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **rid** | идентификатор маршрута | **int** | `1`
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **ID** | идентификатор остановки | **int** | `1`
    **NAME** | название остановки | **str** | `Улица Малая Пролетарская`
    **LAT** | широта | **float** | `57.6125370`
    **LON** | долгота | **float** | `39.8845370`
4. Получение линии маршрута

    Имя | Значение
    --- | --------
    URL | /rest/route_map
    Метод | GET
    Формат ответа | json массив
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **rid** | идентификатор маршрута | **int** | `1`
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    | | [широта, долгота] | **array** | `[57.6125370,39.8845370]`
5. Получение транспортов на маршруте в текущий момент

    Имя | Значение
    --- | --------
    URL | /rest/transports_on_route
    Метод | GET
    Формат ответа | json массив
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **vt** | тип транспорта | **int** | `1`
    **nmar** | название маршрута на латинице | **str** | `35d`
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    | | [бортовой номер, долгота, широта, азимут, (4-6) не используется] | **array** | `["611","39.8606580","57.6334900","52","11","11","bus05.png"]`
6. Получение предсказания передвижения для отдельного транспорта на маршруте в текущий момент

    Имя | Значение
    --- | --------
    URL | /rest/transport_predict
    Метод | GET
    Формат ответа | json объект
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **vt** | тип транспорта | **int** | `1`
    **bort** | бортовой номер транспорта | **int** | `654`
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    success | успешность запроса | **boolean** | true/false
    data | данные | **object** | `{gr: "1", model: "ЛиАЗ-5256", pe: "671", route: "18", shed: [ {id: "70", sname: "Торговый переулок", ntime: 1225, stime: "20:25"} ]}`
    pe | бортовой номер | **str** | `"671"`
    route | название маршрута | **str** | `"18"`
    shed | массив остановок | **array** | `[ {id: "70", sname: "Торговый переулок", ntime: 1225, stime: "20:25"} ]`
    sname | название остановки | **str** | `"Торговый переулок"`
    id | идентификатор остановки | **str** | `"70"`
    stime | предполагаемое время прибытия | **str** | `"20:25"`
7. Получение предсказания прохождения маршрутов через заданную остановки в текущий момент

    Имя | Значение
    --- | --------
    URL | /rest/stop_predict
    Метод | GET
    Формат ответа | json объект
    
    Описание запроса
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    **stop** | идентификатор остановки | **int** | `1`
    
    Описание ответа
    
    Имя | Описание | Тип | Значение/Пример
    --- | -------- | --- | ---------------
    success | успешность запроса | **boolean** | `true/false`
    data | каждая элемент строка - "Тип Номер: время1 время2 время3... | **array** | `["Ав 8: 21.56", "Ав 18: 21.07  21.35  22.02", "Ав 76: 21.27  22.42  23.57", "Тб 1: 20.40  20.46  20.52"]`
